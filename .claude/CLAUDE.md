# STAGETEK CRM System - Claude Configuration

**INSTRU√á√ïES CR√çTICAS: SIGA RIGOROSAMENTE O PROTOCOL NOTECRAFT‚Ñ¢**

---

## üöÄ PR√ìXIMOS PASSOS IMEDIATOS (13 Out 2025)

### **‚úÖ COMPLETADO RECENTEMENTE**
- ‚úÖ Supabase integrado e funcionando (database + auth)
- ‚úÖ CRUD Clientes funcionando (create, read, update, delete)
- ‚úÖ CRUD Oportunidades funcionando (create, read, update, delete)
- ‚úÖ Modais com campos completos (incluindo endere√ßo em JSONB)
- ‚úÖ Protocol Notecraft‚Ñ¢ 100% compliance (valida√ß√£o autom√°tica)
- ‚úÖ Projeto organizado (docs movidos para pastas adequadas)

### **PRIORIDADE 1: Detalhes da Oportunidade** (P0)
Criar p√°gina completa `src/pages/DetalheOportunidade.tsx`:
- Layout 3 colunas (Sidebar Left | Tabs Center | Sidebar Right)
- Tabs: Hist√≥rico, E-mail, Tarefas, Contatos, Produtos, Arquivos
- Navega√ß√£o: clicar em oportunidade ‚Üí abrir detalhes

### **PRIORIDADE 2: Sistema de Tarefas** (P0)
Implementar feature completa de tarefas:
- Criar/editar/deletar tarefas
- Tipos: Liga√ß√£o, WhatsApp, Email, Reuni√£o
- Vincular tarefas a oportunidades
- Notifica√ß√µes de tarefas vencidas

### **PRIORIDADE 3: Configura√ß√£o de Funis** (P0)
Criar `src/pages/ConfigFunis.tsx`:
- Editor visual de etapas (bolinhas conectadas)
- CRUD completo de funis
- Gerenciar m√∫ltiplos pipelines

**üìÑ Ver detalhes completos nas se√ß√µes abaixo.**

---

## üö® LEIA PRIMEIRO: CONTEXTO CR√çTICO

**VOC√ä EST√Å TRABALHANDO EM UM PROJETO REAL COM REQUISITOS ESPEC√çFICOS.**

Antes de fazer QUALQUER altera√ß√£o, voc√™ DEVE:

1. ‚úÖ Ler `protocol/PRD.md` (995 linhas) - Product Requirements Document COMPLETO
2. ‚úÖ Ler `protocol/RD-STATION-ANALYSIS.md` (1200 linhas) - An√°lise DETALHADA das telas do RD Station
3. ‚úÖ Ler `protocol/GAP-ANALYSIS.md` (556 linhas) - O que est√° faltando vs o que deve ser feito
4. ‚úÖ Ler `protocol/FEATURES-PRIORITIZED.md` - Prioriza√ß√£o P0/P1/P2/P3

**NUNCA** fa√ßa corre√ß√µes visuais ou melhorias sem entender o FLUXO COMPLETO do sistema.

---

## üéØ STATUS DE IMPLEMENTA√á√ÉO (Atualizado: 13 Out 2025)

### üéâ MARCOS RECENTES (13 Out 2025)

#### **‚úÖ Supabase Integration - 100% FUNCIONAL**
- ‚úÖ Database conectado e funcionando
- ‚úÖ Tabelas criadas: clients, opportunities, funnel_stages, users
- ‚úÖ RLS (Row Level Security) policies configuradas
- ‚úÖ CRUD Clientes: Create, Read, Update, Delete ‚úÖ
- ‚úÖ CRUD Oportunidades: Create, Read, Update, Delete ‚úÖ
- ‚úÖ Seed data: 5 clientes, 5 est√°gios, 7 oportunidades de teste
- ‚úÖ Queries relacionadas funcionando (client + stage em opportunities)

#### **‚úÖ Modais & Forms - 100% COMPLETOS**
- ‚úÖ FormField component flex√≠vel (suporta children e input props)
- ‚úÖ ClienteModal (49 linhas) com campos completos:
  - Nome, CNPJ, Email, Phone, Website, Status
  - AddressFields component (22 linhas) para endere√ßo JSONB
- ‚úÖ OportunidadeModal (50 linhas) com campos completos:
  - T√≠tulo, Cliente (select), Valor, Probabilidade, Est√°gio (select), Data
- ‚úÖ Selects com contraste correto (bg-gray-900, text-white)
- ‚úÖ Valida√ß√£o funcional com feedback visual

#### **‚úÖ Protocol Notecraft‚Ñ¢ - 100% COMPLIANCE AUTOM√ÅTICA**
- ‚úÖ Refatora√ß√£o completa de 12 componentes
- ‚úÖ Automa√ß√£o: `scripts/validate-notecraft.js`
- ‚úÖ Pre-commit hook (Husky) bloqueia viola√ß√µes
- ‚úÖ npm script: `npm run validate:notecraft`
- ‚úÖ Componentes reutiliz√°veis:
  - `useClienteForm.ts` (61 linhas) - Hook form clientes
  - `useOportunidadeForm.ts` (67 linhas) - Hook form oportunidades
  - `ModalHeader.tsx` (16 linhas) - Header reutiliz√°vel
  - `ModalActions.tsx` (20 linhas) - Actions reutiliz√°veis
  - `AddressFields.tsx` (22 linhas) - Campos de endere√ßo
  - `FormField.tsx` (17 linhas) - Field gen√©rico flex√≠vel

**Resultado**: Zero viola√ß√µes, zero warnings, 100% compliance

---

### ‚úÖ O que J√Å EST√Å implementado:

#### **Infraestrutura & Setup**
- ‚úÖ React 18 + TypeScript + Vite configurado
- ‚úÖ Tailwind CSS 3.4 (design tokens STAGETEK)
- ‚úÖ Atomic Design (atoms/molecules/organisms/templates)
- ‚úÖ Protocol Notecraft‚Ñ¢ - **100% compliance autom√°tica**
- ‚úÖ Husky pre-commit hooks
- ‚úÖ Path aliases (`@/*`) configurados
- ‚úÖ Supabase client configurado

#### **Autentica√ß√£o**
- ‚úÖ Login/Logout (Supabase Auth)
- ‚úÖ Prote√ß√£o de rotas (`ProtectedRoute.tsx`)
- ‚úÖ Gest√£o de sess√£o
- ‚úÖ Hook `useAuth()` dispon√≠vel

#### **CRUD Clientes**
- ‚úÖ P√°gina `src/pages/Clientes.tsx` (React)
- ‚úÖ DataTable desktop + Cards mobile
- ‚úÖ Modal cria√ß√£o/edi√ß√£o (`ClienteModal.tsx` - 47 linhas)
- ‚úÖ Avatar com iniciais
- ‚úÖ Badge de status
- ‚úÖ Filtros por busca
- ‚è≥ **PR√ìXIMO**: Conectar ao Supabase (atualmente mock data)

#### **CRUD Oportunidades**
- ‚úÖ P√°gina `src/pages/Oportunidades.tsx` (React)
- ‚úÖ Modal cria√ß√£o/edi√ß√£o (`OportunidadeModal.tsx` - 50 linhas)
- ‚úÖ Formul√°rio completo (cliente, valor, est√°gio, data)
- ‚úÖ Listagem b√°sica
- ‚è≥ **PR√ìXIMO**: Conectar ao Supabase (atualmente mock data)

#### **Funil de Vendas (Kanban)**
- ‚úÖ P√°gina HTML: `pages/funil-vendas.html` (standalone)
- ‚úÖ 5 colunas drag-and-drop
- ‚úÖ Totalizadores R$ por coluna
- ‚úÖ Contador de oportunidades
- ‚è≥ **PR√ìXIMO**: Migrar para React (`src/pages/Funil.tsx`)

#### **Dashboard**
- ‚úÖ P√°gina HTML: `pages/dashboard.html` (standalone)
- ‚úÖ P√°gina React: `src/pages/Dashboard.tsx` (b√°sico)
- ‚úÖ 4 StatCards
- ‚úÖ Gr√°ficos Chart.js (no HTML)
- ‚è≥ **PR√ìXIMO**: Conectar gr√°ficos ao Supabase (dados reais)

#### **Navega√ß√£o & Layout**
- ‚úÖ TopBar (`src/components/organisms/TopBar.tsx` - 44 linhas)
  - Logo STAGETEK
  - Navega√ß√£o horizontal (Dashboard, Oportunidades, Clientes, etc.)
  - SearchBar
  - Notifica√ß√µes + Ajuda + Apps
  - UserMenu dropdown (31 linhas)
- ‚úÖ MainLayout com TopBar + conte√∫do

---

### üö® BLOCKERS CR√çTICOS (Resolver ANTES de P0.5)

#### **1. Seguran√ßa & Compliance (RLS Policies)** ‚è∞ 1 semana

**Status**: üî¥ **BLOQUEADOR** - RLS incompleto pode causar vazamento de dados

**Problema**: Apenas policies de SELECT existem. Faltam INSERT/UPDATE/DELETE.

**A√ß√µes necess√°rias**:
- [ ] **RLS completo por tabela**:
  - [ ] `clients` (INSERT/UPDATE/DELETE + org_id scoping)
  - [ ] `opportunities` (INSERT/UPDATE/DELETE + owner validation)
  - [ ] `funnel_stages` (apenas admin pode modificar)
  - [ ] `contacts` (INSERT/UPDATE/DELETE + client_id validation)
  - [ ] `tasks` (INSERT/UPDATE/DELETE + assignee validation)
  - [ ] `products` (apenas admin pode modificar)
- [ ] **Storage policies**:
  - [ ] Bucket PDFs com assinatura temporal (1h)
  - [ ] Upload limitado por role (authenticated users)
  - [ ] Download apenas para owner da oportunidade
- [ ] **Auditoria**:
  - [ ] Criar tabela `activity_log` (quem, o qu√™, quando)
  - [ ] Triggers em UPDATE/DELETE para log autom√°tico
- [ ] **Masking PII**:
  - [ ] Emails (mostrar ema***@domain.com)
  - [ ] Telefones (mostrar (11) 9****-4321)

**Refer√™ncia**: Ver `protocol/TECH-DEBT.md` (ser√° criado)

#### **2. Storage Limits (Supabase Free)** ‚è∞ 2 dias

**Status**: üü° **M√âDIO** - Pode estourar 2GB com PDFs

**A√ß√µes**:
- [ ] Implementar cold-storage (S3 compat√≠vel) para PDFs >30 dias
- [ ] Pol√≠tica de expira√ß√£o de anexos (deletar ap√≥s 90 dias)
- [ ] Compress√£o de imagens (produtos)

---

### üöÄ P0.5 - COTA√á√ÉO MVP (DIFERENCIAL COMPETITIVO)

#### **Status**: üî¥ **PRIORIDADE M√ÅXIMA** - Sem isso, CRM n√£o tem valor real

**Insight da an√°lise executiva**:
> "O valor do CRM est√° a√≠ para Stagetek (pre√ßo, lead time, frete, impostos). Sem isso, o time volta para planilhas."

**RICE Score**: 15.0 (Reach: 5 | Impact: 10 | Confidence: 90% | Effort: 3 weeks)

**Por que P0.5?**
- ‚úÖ P0 (CRUD b√°sico) est√° completo
- üö® Sem cota√ß√£o r√°pida, n√£o h√° ado√ß√£o
- üí∞ Momento wow: cota√ß√£o em 2-3 cliques (vs 2h em planilha)

#### **Cota√ß√£o MVP - Requisitos**

**User Story**:
```gherkin
As a: Vendedor Stagetek
I want to: Selecionar produtos do cat√°logo e gerar PDF profissional
So that: Eu envie proposta em <5 minutos (vs 2h em planilha)
```

**Escopo P0.5** (2-3 semanas):
- [ ] **Database**:
  - [ ] Tabela `products` (nome, SKU, categoria, pre√ßo BRL/USD/EUR, imagem)
  - [ ] Tabela `quotations` (opportunity_id, items JSONB, total, status)
  - [ ] Seed data: 50 produtos (som, luz, estruturas, talhas)
- [ ] **Frontend**:
  - [ ] P√°gina `/produtos` (listagem + busca + filtros por categoria)
  - [ ] P√°gina `/oportunidades/:id/cotacao/nova` (sele√ß√£o de produtos)
  - [ ] Multi-select com quantidade/desconto por linha
  - [ ] Campo "Frete" manual (input R$)
  - [ ] Preview total (produtos + frete)
- [ ] **PDF Generation**:
  - [ ] Logo Stagetek + dados da empresa
  - [ ] Tabela produtos (descri√ß√£o, qtd, pre√ßo unit, subtotal)
  - [ ] Totais (subtotal, frete, total geral)
  - [ ] Termos e condi√ß√µes (footer)
  - [ ] Biblioteca: `react-pdf` ou `pdfmake`
- [ ] **Email Integration**:
  - [ ] Bot√£o "Enviar por Email" (Resend API)
  - [ ] Template b√°sico com PDF anexo
  - [ ] Status "Proposta Enviada" na oportunidade

**Out of Scope P0.5** (deixar para P1):
- ‚ùå C√°lculo autom√°tico de frete (API Melhor Envio)
- ‚ùå C√°lculo de impostos (ICMS, IPI)
- ‚ùå Regras de desconto complexas
- ‚ùå M√∫ltiplas moedas (USD/EUR)
- ‚ùå Templates de email customiz√°veis

**Acceptance Criteria**:
```gherkin
‚úÖ Given: Estou na oportunidade "Pedido Set Luz"
‚úÖ When: Clico "Nova Cota√ß√£o"
‚úÖ Then: Vejo cat√°logo com 50+ produtos
‚úÖ And: Posso buscar por nome/SKU
‚úÖ And: Posso filtrar por categoria (Som, Luz, Estrutura)
‚úÖ When: Adiciono 5 produtos ao carrinho
‚úÖ And: Ajusto quantidade/desconto
‚úÖ And: Preencho frete manual (R$ 500)
‚úÖ And: Clico "Gerar PDF"
‚úÖ Then: PDF √© gerado em <3s
‚úÖ And: Preview do PDF √© exibido
‚úÖ When: Clico "Enviar por Email"
‚úÖ Then: Email enviado em <30s
‚úÖ And: Status muda para "Proposta Enviada"
‚úÖ And: Cota√ß√£o fica salva no hist√≥rico
```

**Definition of Done**:
- [ ] C√≥digo passa em Protocol Notecraft‚Ñ¢ validation
- [ ] Testes E2E (Playwright) cobrem happy path
- [ ] PDF renderiza corretamente em mobile/desktop
- [ ] Email chega com PDF anexado (<2MB)
- [ ] RLS policies completas para `quotations`

**Tempo estimado**: 2-3 semanas (Sprint 2)

---

### ‚è≥ O que FALTA (P1 - ALTA PRIORIDADE)

#### **1. Detalhes da Oportunidade** (0% implementado)

**Baseado em**: `RD-STATION-ANALYSIS.md` linhas 224-339 + `tarefas.png` screenshot

**P√°gina completa**: `src/pages/DetalheOportunidade.tsx` (N√ÉO EXISTE!)

**Layout necess√°rio**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TopBar (Logo | Menu | Busca | Avatar)              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Sidebar Left ‚îÇ   Tabs Centrais      ‚îÇ Sidebar Right ‚îÇ
‚îÇ              ‚îÇ                      ‚îÇ               ‚îÇ
‚îÇ - Funil      ‚îÇ ‚úÖ HIST√ìRICO (ativo) ‚îÇ - Respons√°vel ‚îÇ
‚îÇ - Est√°gio    ‚îÇ ‚ñ° E-MAIL             ‚îÇ - Dados       ‚îÇ
‚îÇ - Qualif.    ‚îÇ ‚ñ° TAREFAS            ‚îÇ   Cliente     ‚îÇ
‚îÇ - Valores    ‚îÇ ‚ñ° CONTATOS           ‚îÇ - Dados Oport.‚îÇ
‚îÇ - Datas      ‚îÇ ‚ñ° PRODUTOS           ‚îÇ - Dados       ‚îÇ
‚îÇ              ‚îÇ ‚ñ° ARQUIVOS           ‚îÇ   Contato     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Header da Oportunidade** (topo da p√°gina):
- [ ] Bot√£o "‚Üê" (voltar)
- [ ] T√≠tulo: Nome da oportunidade (ex: "Venda JANEIRO")
- [ ] Subt√≠tulo: Nome da empresa/origem (ex: "RD Station")
- [ ] Bot√£o: "üëç Marcar venda" (verde)
- [ ] Bot√£o: "üëé Marcar perda" (vermelho)
- [ ] √çcone: Engrenagem (configura√ß√µes)
- [ ] √çcone: Lixeira (excluir)
- [ ] Texto: "Saldo: R$ 91,12" (canto superior direito)

**Sidebar Esquerda**:
- [ ] Funil e est√°gio de vendas (visual com bolinhas)
- [ ] Qualifica√ß√£o (5 estrelas) - "Quente"
- [ ] Valores (R$ 5,00 + R$ 5,00)
- [ ] Data de cria√ß√£o
- [ ] Previs√£o de fechamento

**Tabs Centrais**:
- [ ] Tab "HIST√ìRICO DA OPORTUNIDADE" (ativa por padr√£o)
  - [ ] Timeline de eventos
  - [ ] Formul√°rio: "Criar Anota√ß√£o"
  - [ ] Checkboxes de filtro (Anota√ß√£o, Tarefa, Email, etc.)
- [ ] Tab "E-MAIL"
  - [ ] Formul√°rio de envio de email
  - [ ] Seletor de modelo de email
  - [ ] Editor WYSIWYG
- [ ] Tab "TAREFAS" ‚≠ê **NOVO** (baseado em `tarefas.png`)
  - [ ] Se√ß√£o "PR√ìXIMAS TAREFAS" com lista
  - [ ] Formul√°rio "CRIAR TAREFA"
  - [ ] √çcones por tipo (Liga√ß√£o, WhatsApp, Email, Reuni√£o)
- [ ] Tab "CONTATOS"
- [ ] Tab "PRODUTOS E SERVI√áOS"
- [ ] Tab "ARQUIVOS"

**Sidebar Direita**:
- [ ] Respons√°vel (dropdown)
- [ ] Dados da Empresa/Cliente (expans√≠vel)
- [ ] Dados da Oportunidade (expans√≠vel)
- [ ] Dados do Contato (expans√≠vel)

**Status**: P√°gina N√ÉO EXISTE. Ao clicar em card do Kanban, NADA acontece.

**A√ß√£o**: Criar `src/pages/DetalheOportunidade.tsx` completo com todas as tabs.

---

#### **3. Configura√ß√£o de Funis** (0% implementado)

**Baseado em**: `RD-STATION-ANALYSIS.md` linhas 586-675 + `Funil_4.png` screenshot

**P√°gina**: `src/pages/ConfigFunis.tsx` (N√ÉO EXISTE!)

**Funcionalidades necess√°rias**:
- [ ] Lista de funis (ex: "Funil PADR√ÉO (N√£o Alterar)", "Funil Prospec√ß√£o", "Funil de carteira")
- [ ] **Editor visual de etapas** (bolinhas conectadas por linha azul):
  - [ ] C√≠rculo azul preenchido para cada etapa
  - [ ] Label: Nome da etapa (ex: "Sem contato / Lead")
  - [ ] Sigla: "Sigla: SC/L"
  - [ ] Bot√£o "+" verde (adicionar nova etapa)
- [ ] Bot√£o: "‚ñ∑" (expandir/colapsar funil)
- [ ] Bot√£o: "‚öôÔ∏è Editar automa√ß√£o entre funis" (azul)
- [ ] √çcone: Lixeira (excluir funil)
- [ ] CRUD completo:
  - [ ] Criar novo funil
  - [ ] Renomear funil
  - [ ] Adicionar/Remover etapas
  - [ ] Configurar siglas
  - [ ] Deletar funil

**Status**: P√°gina N√ÉO EXISTE. Imposs√≠vel gerenciar m√∫ltiplos funis.

**A√ß√£o**: Criar `src/pages/ConfigFunis.tsx` com editor visual.

---

#### **4. Melhorias no Funil Kanban** (40% implementado)

**Baseado em**: `GAP-ANALYSIS.md` linhas 39-77

**Faltam**:
- [ ] **Filtros no topo** (linha horizontal):
  - [ ] Dropdown: "Funil de vendas" (selecionar funil ativo)
  - [ ] Dropdown: "Minhas oportunidades" (filtrar por usu√°rio)
  - [ ] Dropdown: "Status da oportunidade" (Aberto, Ganho, Perdido)
  - [ ] Bot√£o: "‚ü≥ Recarregar"
  - [ ] Bot√£o: "‚ñ¶ Filtro ativo" (mostrar quantos filtros aplicados)
- [ ] **Cards de Oportunidade** (melhorar):
  - [ ] Qualifica√ß√£o com estrelas (1-5 estrelas) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
  - [ ] √çcone telefone (a√ß√£o r√°pida) üìû
  - [ ] √çcone e-mail (a√ß√£o r√°pida) ‚úâÔ∏è
  - [ ] Avatar do cliente (inicial)
  - [ ] Indicador de tarefas atrasadas (√≠cone vermelho)
- [ ] **Tooltip ao hover**:
  - [ ] Mostrar nome completo + status + pr√≥ximas a√ß√µes

**Status**: Kanban b√°sico funciona, mas falta 60% das features visuais.

**A√ß√£o**: Refatorar `pages/funil-vendas.html` para adicionar filtros e melhorar cards.

---

#### **5. Sistema de Tarefas** (0% implementado)

**Baseado em**: `tarefas.png` screenshot

**Elementos necess√°rios**:
- [ ] Tipos de tarefa: Liga√ß√£o, WhatsApp, Email, Reuni√£o
- [ ] Campos do formul√°rio:
  - [ ] Dropdown: "Tipo" (com √≠cone)
  - [ ] DatePicker: "Data"
  - [ ] TimePicker: "Hora"
  - [ ] Seletor: "Respons√°vel" (avatar + nome + email)
- [ ] Lista de tarefas:
  - [ ] √çcone por tipo
  - [ ] T√≠tulo da tarefa
  - [ ] Timestamp relativo ("Hoje √†s 10:27")
  - [ ] A√ß√µes: Editar, Deletar, Concluir (checkmark azul)
- [ ] Integra√ß√£o com Timeline de Hist√≥rico
- [ ] Notifica√ß√µes de tarefas vencidas

**Status**: N√ÉO EXISTE sistema de tarefas. N√£o √© poss√≠vel criar, listar ou gerenciar.

**A√ß√£o**: Criar feature completa de tarefas (backend + frontend).

---

### ‚ö†Ô∏è O que FALTA (P1 - ALTA PRIORIDADE)

#### **6. CRUD Produtos** (planejado, n√£o implementado)
- [ ] Cat√°logo de 50+ produtos (Som, Luz, Estruturas, Talhas)
- [ ] Categorias: som, luz, estrutura
- [ ] Campos: nome, SKU, categoria, pre√ßo (BRL/USD/EUR), descri√ß√£o, imagem
- [ ] Busca + filtros

#### **7. Sistema de Cota√ß√µes** (0% implementado)
- [ ] Selecionar produtos
- [ ] Calcular frete
- [ ] Gerar PDF profissional
- [ ] Enviar por email (Resend API)

#### **8. Importa√ß√£o Excel** (0% implementado)
- [ ] Upload .xlsx
- [ ] Valida√ß√£o + preview
- [ ] Import batch para Supabase

#### **9. Integra√ß√µes** (0% implementado)
- [ ] Resend API (emails)
- [ ] Slack Webhook (notifica√ß√µes)
- [ ] Google Calendar API (eventos)

---

### ‚ö†Ô∏è O que FALTA (P2 - M√âDIA PRIORIDADE)

#### **10. Sistema de Pedidos** (0% implementado)
- [ ] Converter cota√ß√£o em pedido
- [ ] Status: Rascunho, Confirmado, Em Produ√ß√£o, Despachado, Entregue
- [ ] Timeline visual

#### **11. Relat√≥rios Gerenciais** (0% implementado)
- [ ] DRE simplificado
- [ ] Convers√£o por etapa
- [ ] An√°lise por vendedor

#### **12. Gest√£o de Equipamentos** (0% implementado)
- [ ] Controle de estoque
- [ ] Status: Dispon√≠vel, Em Uso, Manuten√ß√£o

#### **13. Calend√°rio de Eventos** (0% implementado)
- [ ] Visualiza√ß√£o mensal
- [ ] Sincroniza√ß√£o Google Calendar

#### **14. Lead Scoring com IA** (0% implementado)
- [ ] Claude API
- [ ] Score 0-100
- [ ] Temperatura: üî• Hot / üå°Ô∏è Warm / üßä Cold

---

## üó∫Ô∏è NAVEGA√á√ÉO E FLUXO (Baseado em RD Station)

### **Fluxo Principal: Dashboard ‚Üí Funil ‚Üí Detalhes**

```
Login Page
  ‚îî‚îÄ‚ñ∫ Dashboard
      ‚îú‚îÄ‚ñ∫ Click: "Oportunidades" (menu superior)
      ‚îÇ   ‚îî‚îÄ‚ñ∫ Funil de Vendas (Kanban)
      ‚îÇ       ‚îú‚îÄ‚ñ∫ Click: Card "Pedido Setembro"
      ‚îÇ       ‚îÇ   ‚îî‚îÄ‚ñ∫ Detalhes da Oportunidade (Tab HIST√ìRICO)
      ‚îÇ       ‚îÇ       ‚îú‚îÄ‚ñ∫ Tab: E-MAIL (enviar email)
      ‚îÇ       ‚îÇ       ‚îú‚îÄ‚ñ∫ Tab: TAREFAS (criar/listar tarefas)
      ‚îÇ       ‚îÇ       ‚îú‚îÄ‚ñ∫ Tab: CONTATOS (vincular contatos)
      ‚îÇ       ‚îÇ       ‚îú‚îÄ‚ñ∫ Tab: PRODUTOS (adicionar produtos)
      ‚îÇ       ‚îÇ       ‚îî‚îÄ‚ñ∫ Tab: ARQUIVOS (upload anexos)
      ‚îÇ       ‚îÇ
      ‚îÇ       ‚îú‚îÄ‚ñ∫ Drag: Card para outra coluna
      ‚îÇ       ‚îÇ   ‚îî‚îÄ‚ñ∫ Atualiza est√°gio
      ‚îÇ       ‚îÇ
      ‚îÇ       ‚îî‚îÄ‚ñ∫ Click: FAB "+" (criar nova oportunidade)
      ‚îÇ
      ‚îú‚îÄ‚ñ∫ Click: "Clientes" (menu superior)
      ‚îÇ   ‚îî‚îÄ‚ñ∫ Lista de Clientes
      ‚îÇ       ‚îî‚îÄ‚ñ∫ Click: Cliente ‚Üí Detalhes
      ‚îÇ
      ‚îú‚îÄ‚ñ∫ Click: "Tarefas" (menu superior + badge "67")
      ‚îÇ   ‚îî‚îÄ‚ñ∫ Lista de Tarefas (filtros: Minhas, Todas, Atrasadas, Hoje)
      ‚îÇ
      ‚îî‚îÄ‚ñ∫ Click: Avatar "MB" ‚Üí Dropdown
          ‚îú‚îÄ‚ñ∫ Meu perfil
          ‚îú‚îÄ‚ñ∫ Configura√ß√µes da conta
          ‚îÇ   ‚îî‚îÄ‚ñ∫ Funis de vendas (ConfigFunis.tsx)
          ‚îÇ   ‚îî‚îÄ‚ñ∫ Usu√°rios e permiss√µes
          ‚îÇ   ‚îî‚îÄ‚ñ∫ Integra√ß√µes
          ‚îî‚îÄ‚ñ∫ Sair
```

**CR√çTICO**: Atualmente o sistema N√ÉO TEM essa navega√ß√£o! P√°ginas est√£o isoladas.

---

## üèóÔ∏è ARQUITETURA DO PROJETO

### **Estrutura Atual (H√≠brida - PROBLEMA!)**

```
stagetek-crm-system/
‚îú‚îÄ‚îÄ pages/                          ‚Üê HTML STANDALONE (N√ÉO React!)
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html              ‚úÖ Existe (Chart.js)
‚îÇ   ‚îú‚îÄ‚îÄ funil-vendas.html           ‚úÖ Existe (Vanilla JS)
‚îÇ   ‚îú‚îÄ‚îÄ config-funis.html           ‚úÖ Existe (Vanilla JS)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ src/                            ‚Üê REACT APP
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Clientes.tsx            ‚úÖ Existe (React)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Oportunidades.tsx       ‚úÖ Existe (React)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DetalheOportunidade.tsx ‚ùå N√ÉO EXISTE!
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConfigFunis.tsx         ‚ùå N√ÉO EXISTE!
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ atoms/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ molecules/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ organisms/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ TopBar.tsx          ‚ùå N√ÉO EXISTE!
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ protocol/
    ‚îú‚îÄ‚îÄ PRD.md                      ‚úÖ LEIA ISSO!
    ‚îú‚îÄ‚îÄ RD-STATION-ANALYSIS.md      ‚úÖ LEIA ISSO!
    ‚îú‚îÄ‚îÄ GAP-ANALYSIS.md             ‚úÖ LEIA ISSO!
    ‚îî‚îÄ‚îÄ FEATURES-PRIORITIZED.md     ‚úÖ LEIA ISSO!
```

**PROBLEMA**: Sistema tem DOIS mundos separados (HTML + React). Navega√ß√£o quebrada.

**SOLU√á√ÉO**: Migrar tudo para React OU manter HTML mas criar navega√ß√£o unificada.

---

## üéØ MODELO DE NEG√ìCIO STAGETEK

**STAGETEK = Fabricante B2B de Equipamentos para Entretenimento**

### **3 Opera√ß√µes:**

1. **üè≠ FABRICA√á√ÉO** (Principal - 60% receita)
   - Pe√ßas de a√ßo sob medida, treli√ßas Q30/Q40, estruturas met√°licas, talhas
   - Modelo: Venda por pe√ßa (n√£o aluguel!)
   - Mercado: Nacional (BR) + Internacional (exporta√ß√£o)
   - Moeda: BRL, USD, EUR

2. **üõí REVENDA** (Secund√°rio - 30% receita)
   - Equipamentos de som (mesas, caixas ac√∫sticas)
   - Equipamentos de luz (moving heads, pares LED)

3. **üé™ LOCA√á√ÉO** (Terci√°rio - 10% receita)
   - Aluguel de equipamentos pr√≥prios para eventos
   - Gest√£o de disponibilidade e calend√°rio

### **Usu√°rios**: 5 m√°ximo (uso interno)
### **Budget**: ZERO (Supabase Free + Vercel Free)

---

## ‚ö†Ô∏è STACK TECNOL√ìGICA DEFINIDA

### **Frontend**
```
‚úÖ React 18 + TypeScript
‚úÖ Vite (build tool)
‚úÖ Tailwind CSS 3.4 (est√°vel)
‚úÖ shadcn/ui (componentes base)
‚úÖ Recharts (gr√°ficos)
‚úÖ React Hook Form + Zod (forms + valida√ß√£o)
‚úÖ dnd-kit (drag-and-drop mobile-friendly)
‚úÖ date-fns (datas PT-BR)
‚úÖ Zustand (state management leve)
```

### **Backend/BaaS**
```
‚úÖ Supabase (Free Tier):
   - PostgreSQL (500MB)
   - Auth (autentica√ß√£o)
   - Storage (2GB arquivos)
   - Realtime (WebSockets)
   - Edge Functions (serverless)
```

### **Integra√ß√µes**
```
‚úÖ E-mail: Resend API (gr√°tis 100/dia)
‚úÖ Slack: Webhook (gr√°tis)
‚úÖ Google Calendar: Google Calendar API
‚úÖ WhatsApp: WhatsApp Business API (fase 4)
‚úÖ CNPJ/CEP: brasil-api-mcp (MCP instalado)
```

### **Deploy**
```
‚úÖ Vercel (Free Tier)
   - Deploy autom√°tico via GitHub
   - Edge Functions
   - Preview deploys
   - SSL gr√°tis
```

---

## ‚ö†Ô∏è REGRAS ABSOLUTAS - PROTOCOL NOTECRAFT‚Ñ¢

### 1. **Limites de Linhas (R√çGIDO)**
- ‚úÖ **Atoms**: m√°ximo 20 linhas
- ‚úÖ **Molecules**: m√°ximo 35 linhas
- ‚úÖ **Organisms**: m√°ximo 50 linhas
- ‚úÖ **Templates**: m√°ximo 30 linhas
- ‚ùå **NUNCA** exceda esses limites

### 2. **TypeScript Strict**
```typescript
// ‚úÖ SEMPRE tipar:
interface Client {
  id: string
  name: string
  cnpj: string
  email: string
}

// ‚ùå NUNCA usar any:
const data: any = fetchData() // ‚ùå PROIBIDO
```

### 3. **Tailwind CSS (n√£o CSS custom)**
```tsx
// ‚úÖ CORRETO:
<div className="px-4 py-2 bg-red-50 rounded-lg">

// ‚ùå ERRADO:
<div style={{ padding: '8px 16px', background: '#ffeded' }}>
```

### 4. **Mobile-First OBRIGAT√ìRIO**
- ‚úÖ Tailwind responsive (sm/md/lg/xl breakpoints)
- ‚úÖ Bottom nav bar (n√£o sidebar lateral)
- ‚úÖ Touch gestures (dnd-kit para drag-drop)
- ‚úÖ Forms multi-step (n√£o forms longos)
- ‚úÖ Modals full-screen mobile
- ‚úÖ Data tables ‚Üí cards em mobile
- ‚úÖ Lighthouse Score >85

---

## üö´ O Que NUNCA Fazer

1. ‚ùå **Trabalhar sem consultar PRD.md e GAP-ANALYSIS.md**
2. ‚ùå **Fazer corre√ß√µes visuais sem entender o fluxo completo**
3. ‚ùå Componentes acima do limite de linhas
4. ‚ùå `any` no TypeScript
5. ‚ùå CSS inline (`style={{ ... }}`)
6. ‚ùå Cores hardcoded (`#e90101` direto, usar tokens Tailwind)
7. ‚ùå Emojis como √≠cones (usar Lucide React)
8. ‚ùå Forms n√£o controlados
9. ‚ùå Fetch direto (usar Supabase client)
10. ‚ùå Commits sem mensagem clara

---

## üìã Checklist ANTES de Codar

- [ ] Li `protocol/PRD.md` completo?
- [ ] Li `protocol/RD-STATION-ANALYSIS.md` completo?
- [ ] Li `protocol/GAP-ANALYSIS.md` completo?
- [ ] Entendo qual feature estou implementando (P0/P1/P2/P3)?
- [ ] Sei qual fluxo de navega√ß√£o essa feature afeta?
- [ ] Tenho certeza que n√£o estou duplicando c√≥digo existente?
- [ ] Vou seguir limites de linhas do Protocol Notecraft‚Ñ¢?
- [ ] Vou usar TypeScript strict?
- [ ] Vou usar Tailwind (n√£o CSS inline)?
- [ ] √â mobile-first?

---

## üóìÔ∏è ROADMAP ATUALIZADO (Baseado em RICE Score)

### **Sprint 0: Blockers Cr√≠ticos** ‚è∞ 1-2 semanas (ATUAL)
**Objetivo**: Resolver d√©bitos t√©cnicos que bloqueiam P0.5

```
Semana 1-2 (10-14 dias):
‚îú‚îÄ RLS Policies completas (INSERT/UPDATE/DELETE) - 5 dias
‚îú‚îÄ Storage policies (bucket PDFs) - 2 dias
‚îú‚îÄ Tabela activity_log + triggers - 2 dias
‚îú‚îÄ Documenta√ß√£o (USER-STORIES, TECH-DEBT, VALUE-PROP) - 1 dia
‚îî‚îÄ Commit reorganiza√ß√£o de arquivos + push GitHub - 1 dia
```

**Entreg√°veis**:
- ‚úÖ Zero vulnerabilidades de seguran√ßa
- ‚úÖ LGPD compliance b√°sico
- ‚úÖ Documenta√ß√£o de produto estruturada
- ‚úÖ Technical debt vis√≠vel e gerenciado

---

### **Sprint 1: Cota√ß√£o MVP (P0.5)** ‚è∞ 2-3 semanas
**Objetivo**: Entregar o "momento wow" - cota√ß√£o em 2-3 cliques

```
Semana 3-5 (14-21 dias):
‚îú‚îÄ Database: products + quotations + seed 50 itens - 3 dias
‚îú‚îÄ Frontend: /produtos (listagem, busca, filtros) - 3 dias
‚îú‚îÄ Frontend: /oportunidades/:id/cotacao/nova - 4 dias
‚îú‚îÄ PDF Generation (react-pdf) - 4 dias
‚îú‚îÄ Email Integration (Resend) - 2 dias
‚îú‚îÄ Testes E2E (Playwright) - 2 dias
‚îî‚îÄ Refinamentos + bug fixes - 3 dias
```

**Entreg√°veis**:
- ‚úÖ Cat√°logo 50+ produtos naveg√°vel
- ‚úÖ Cota√ß√£o completa em <5min
- ‚úÖ PDF profissional gerado
- ‚úÖ Email enviado automaticamente
- ‚úÖ 90% ado√ß√£o (vendedores usam vs planilha)

**RICE Score**: 15.0 (maior impacto)

---

### **Sprint 2: Detalhes Oportunidade + UX** ‚è∞ 2-3 semanas
**Objetivo**: Navega√ß√£o completa e visibilidade do pipeline

```
Semana 6-8 (14-21 dias):
‚îú‚îÄ Layout 3 colunas (Sidebar Left | Tabs | Sidebar Right) - 4 dias
‚îú‚îÄ Tab Hist√≥rico (timeline + anota√ß√µes) - 3 dias
‚îú‚îÄ Tab Tarefas (criar, listar, notificar) - 4 dias
‚îú‚îÄ Tab Contatos (vincular contatos) - 2 dias
‚îú‚îÄ Migrar Kanban HTML ‚Üí React - 3 dias
‚îú‚îÄ Melhorias UX (estrelas, avatars, filtros) - 3 dias
‚îî‚îÄ Testes E2E + refinamentos - 2 dias
```

**Entreg√°veis**:
- ‚úÖ Navega√ß√£o: Clique em card ‚Üí detalhes
- ‚úÖ Sistema de tarefas funcional
- ‚úÖ Funil Kanban em React (drag-and-drop)
- ‚úÖ Timeline completa de atividades

**RICE Scores**: Detalhes (14.0), Tarefas (10.5)

---

### **Sprint 3: Relat√≥rios + Integra√ß√µes** ‚è∞ 2 semanas
**Objetivo**: Dados para decis√£o e automa√ß√£o

```
Semana 9-10 (10-14 dias):
‚îú‚îÄ Dashboard convers√£o por etapa - 3 dias
‚îú‚îÄ Relat√≥rio motivos de perda - 2 dias
‚îú‚îÄ Integra√ß√£o Slack (webhook) - 2 dias
‚îú‚îÄ Configura√ß√£o de Funis (editor visual) - 4 dias
‚îú‚îÄ Beta testing (2 vendedores) - 2 dias
‚îî‚îÄ Ajustes baseados em feedback - 2 dias
```

**Entreg√°veis**:
- ‚úÖ KPIs: velocidade proposta, convers√£o, perdas
- ‚úÖ Notifica√ß√µes Slack (proposta enviada, deal ganho)
- ‚úÖ Editor de funis (criar/editar etapas)
- ‚úÖ Beta validado por usu√°rios reais

**RICE Score**: Config Funis (13.5), Relat√≥rios (4.8)

---

### **Sprint 4: Go-Live MVP** ‚è∞ 1 semana
**Objetivo**: Rollout completo com treinamento

```
Semana 11 (5-7 dias):
‚îú‚îÄ Ajustes finais (bugs cr√≠ticos) - 2 dias
‚îú‚îÄ Treinamento time comercial (5 pessoas) - 1 dia
‚îú‚îÄ Monitoramento (Sentry setup) - 1 dia
‚îú‚îÄ Documenta√ß√£o usu√°rio final - 1 dia
‚îî‚îÄ Go-live produ√ß√£o - 1 dia
```

**Entreg√°veis**:
- ‚úÖ MVP funcional em produ√ß√£o
- ‚úÖ Time treinado e usando
- ‚úÖ Monitoramento ativo
- ‚úÖ Documenta√ß√£o completa

---

### **Timeline Total**: 10-11 semanas (~70-75 dias)

**Marcos**:
- ‚úÖ **Dia 14**: Blockers resolvidos, seguran√ßa OK
- ‚úÖ **Dia 35**: Cota√ß√£o MVP funcionando (momento wow)
- ‚úÖ **Dia 56**: Navega√ß√£o completa + tarefas
- ‚úÖ **Dia 70**: Relat√≥rios + integra√ß√µes
- ‚úÖ **Dia 77**: **GO-LIVE MVP**

**Buffer**: 2 semanas (imprevistos, scope pequeno)
**Deadline realista**: **90 dias** (12-13 semanas)

---

## üìö Refer√™ncias Obrigat√≥rias

### **Documenta√ß√£o de Produto**
- `/protocol/PRD.md` - Product Requirements Document (995 linhas)
- `/protocol/RD-STATION-ANALYSIS.md` - An√°lise de telas (1200 linhas)
- `/protocol/GAP-ANALYSIS.md` - Gap analysis (556 linhas)
- `/protocol/FEATURES-PRIORITIZED.md` - Prioriza√ß√£o

### **Documenta√ß√£o T√©cnica**
- `/protocol/PROTOCOL-NOTECRAFT.md` - Atomic Design rules
- `/protocol/BRANDING-STANDARDS.md` - STAGETEK brand
- `/protocol/ARCHITECTURE.md` - System architecture

### **Screenshots de Refer√™ncia**
- `Tela funil_RDStation_1.png` - Kanban b√°sico
- `tela funil 2.png` - Kanban completo com top bar
- `Funil_RD 3.png` - Kanban com tooltip hover
- `Funil_4.png` - Configura√ß√£o de funis
- `tela oportunidade.png` - Detalhes da oportunidade
- `tarefas.png` - Tab Tarefas
- `produtos e servi√ßos.png` - Tab Produtos
- `emails.png` - Tab E-mail
- `modelos de e-mail.png` - Modal de templates

---

## üí° Padr√µes de C√≥digo

### **Nomenclatura:**
```typescript
// Files: PascalCase
ClientCard.tsx
useAuth.ts

// Components: PascalCase
export const ClientCard: React.FC<ClientCardProps> = ({ ... }) => {}

// Functions: camelCase
const calculateTotal = (items: Item[]) => {}

// Constants: UPPER_SNAKE_CASE
const MAX_UPLOAD_SIZE = 5 * 1024 * 1024 // 5MB

// Types/Interfaces: PascalCase
interface ClientCardProps { ... }
type Status = 'active' | 'inactive'
```

### **Imports:**
```typescript
// Ordem:
import React from 'react'                    // 1. React
import { useQuery } from '@tanstack/react-query' // 2. External libs
import { supabase } from '@/lib/supabase'   // 3. Internal libs
import { Button } from '@/components/atoms' // 4. Components
import type { Client } from '@/types'       // 5. Types
```

---

## üìä Resumo Estat√≠stico

### **Features por Prioridade**
| Prioridade | Features | Status |
|------------|----------|--------|
| **P0** | 5 features | 40% completo |
| **P1** | 6 features | 0% completo |
| **P2** | 6 features | 0% completo |
| **P3** | 3 features | 0% completo |

### **Tempo Estimado (P0 Completo)**
- TopBar + Navega√ß√£o: 1 semana
- Detalhes Oportunidade: 2 semanas
- Configura√ß√£o Funis: 1 semana
- Melhorias Kanban: 1 semana
- **Total P0**: 5 semanas

---

## üîß Comandos √öteis

```bash
# Dev server (React)
npm run dev

# Dev server (HTML pages)
# Abrir pages/*.html diretamente no browser

# Build produ√ß√£o
npm run build

# Storybook (componentes)
npm run storybook

# Deploy Vercel
vercel --prod
```

---

## üèÜ Meta de Qualidade

- **100%** Protocol Notecraft‚Ñ¢ compliance
- **100%** TypeScript (zero `any`)
- **>85** Lighthouse Score (mobile)
- **<500KB** bundle size (gzipped)
- **>95%** responsividade mobile
- **100%** dark mode support
- **100%** baseado em PRD.md e RD-STATION-ANALYSIS.md

---

## üéØ OKRs Q1 2026 (MVP - 90 dias)

### **Objective 1**: Reduzir tempo de resposta comercial em 80%
- **KR1**: Tempo m√©dio lead‚Üícota√ß√£o < 30min (baseline: 2h) ‚è±Ô∏è
- **KR2**: 80% das cota√ß√µes enviadas em <24h üìß
- **KR3**: NPS vendedores ‚â• 8/10 ‚≠ê

### **Objective 2**: Aumentar visibilidade do pipeline
- **KR1**: 100% das oportunidades no CRM (vs 40% em planilha) üìä
- **KR2**: Dashboard de convers√£o atualizado diariamente üìà
- **KR3**: Taxa de uso ‚â• 90% (4/5 vendedores ativos) üë•

### **Objective 3**: Estabilidade e seguran√ßa
- **KR1**: Zero incidentes de perda de dados üîí
- **KR2**: 99% uptime (Supabase + Vercel) ‚ö°
- **KR3**: RLS policies 100% completas (LGPD compliance) ‚úÖ

**M√©trica North Star**: **Velocidade de proposta** (tempo lead‚Üícota√ß√£o enviada)

---

**Built with ‚ù§Ô∏è following Protocol Notecraft‚Ñ¢**
**STAGETEK Engineering Team**

**√öltima atualiza√ß√£o**: 13 de Outubro de 2025

---

## üö® LEMBRETE FINAL

**ANTES DE FAZER QUALQUER ALTERA√á√ÉO:**

1. Leia `protocol/PRD.md` completo
2. Leia `protocol/RD-STATION-ANALYSIS.md` completo
3. Leia `protocol/GAP-ANALYSIS.md` completo
4. Entenda qual feature voc√™ est√° implementando
5. Verifique se n√£o est√° duplicando c√≥digo
6. Siga rigorosamente o Protocol Notecraft‚Ñ¢

**N√ÉO FA√áA CORRE√á√ïES VISUAIS SEM ENTENDER O FLUXO COMPLETO.**
**N√ÉO TRABALHE SEM CONSULTAR A DOCUMENTA√á√ÉO.**

Isso √© um projeto REAL com requisitos ESPEC√çFICOS. Sua responsabilidade √© implementar EXATAMENTE o que est√° documentado, n√£o "melhorar" sem contexto.
